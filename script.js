var tabString = [
  "/: + - + - + - + - / + - + - [+ - -] + - :/",
  "|:-----------------|---------------------:|",
  "|:-----------------|---------------------:|",
  "|:-----------------|-0--------3p2p0------:|",
  "|:-----------0-2p0-|-----------------2p0-:|",
  "|:-----0-1/2-------|---------------------:|",
  "|:-3---------------|---------------------:|",
  "",
  "/ + - + - + - + - + - /",
  "|---------------------|",
  "|---------------------|",
  "|-0-------------------|",
  "|---------------------|",
  "|---------------------|",
  "|---------------------|",
  "",
  "/ +  - +  -  +  -  +  -  / +   - + - + - + - /",
  "|------------------------|-------------------|",
  "|------------------------|-------------------|",
  "|------------------------|(12)---------------|",
  "|---------------12-14p12-|-------------------|",
  "|------12-13/14----------|-------------------|",
  "|-15---------------------|-------------------|",
  "",
  "/ + - + - / + - + - /",
  "|---------|---------|",
  "|---------|---------|",
  "|-0-2-3-4-|/5-------|",
  "|---------|---------|",
  "|---------|---------|",
  "|---------|---------|",
].join("\n");


$(function() {
  //var m = new Measure(4);
  // m.numberOfBars();
  //


  //var mv = new MeasureView(m, $('#measure-prototype'));

  var tp = new TabParser();
  var tab = tp.parse(tabString);

  tabView = new TabView({
    el: $('#tab'),
    model: tab,
  });

  
  $(document).on('keypress', function(e) {
    if (e.keyCode == 106) { // j
      tabView.moveDown();
    } else if (e.keyCode == 107) { // k
      tabView.moveUp();
    } else if (e.keyCode == 108) { // l
      tabView.moveRight();
    } else if (e.keyCode == 104) { // h
      tabView.moveLeft();
    }

    tabView.render();
  });
});


